# 数据库领域 (Databases)

在数据库领域，Chomsky 充当 SQL/查询优化器，主要对接 [yydb](../../yydb), [yyds](../../yyds), [rbq-engine](../../rbq-engine) 等项目。

## 核心用法
1. **查询计划导入**：将 SQL 解析后的逻辑计划映射为 `IKun` 的关系运算扩展（如 `Scan`, `Project`, `Filter`, `Join`）。
2. **搜索空间探索**：
   - **连接顺序重排**：在 E-Graph 中生成所有可能的 Join 组合，并利用统计信息（Cardinality）计算成本。
   - **谓词下沉**：通过重写规则，尝试将 `Filter` 移动 to `Scan` 或 `Join` 之下。
3. **向量化寻优**：
   - 在 `yyds` 中，将向量搜索（Vector Search）算子与过滤算子结合，寻找最优的索引访问路径（如 HNSW 搜索 vs 全表扫描）。

## 侧重点
- **I/O 成本主导**：与 PL 领域不同，数据库领域的成本模型极度偏重磁盘 I/O 和网络开销。
- **数据分布感知**：优化过程高度依赖外部统计信息（直方图、选择率），Chomsky 需要与存储引擎频繁交换元数据。
- **多模态支持**：同时支持关系型 (SQL) 与非关系型 (KV, Vector) 的混合查询寻优。针对 `yykv` 和 `rbq-engine` 的不同存储布局进行自适应重写。
